<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bet: privatebet/bet.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Bet"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bet
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/d53/bet_8c_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">bet.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dd/d53/bet_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/******************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright Â© 2014-2018 The SuperNET Developers.                             *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *                                                                            *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * See the AUTHORS, DEVELOPER-AGREEMENT and LICENSE files at                  *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * the top-level directory of this distribution for the individual copyright  *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * holder information and the developer policies on copyright and licensing.  *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *                                                                            *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * Unless otherwise agreed in a custom licensing agreement, no part of the    *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * SuperNET software, including this file may be copied, modified, propagated *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * or distributed except according to the terms contained in the LICENSE file *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *                                                                            *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Removal or modification of this copyright notice is prohibited.            *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *                                                                            *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> ******************************************************************************/</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d5a/bet_8h.html">bet.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;../includes/curl/curl.h&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;../log/macrologger.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/db9/cards777_8h.html">cards777.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d3a/cashier_8h.html">cashier.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/de1/client_8h.html">client.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d90/commands_8h.html">commands.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d54/common_8h.html">common.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d71/gfshare_8h.html">gfshare.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/ded/host_8h.html">host.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d94/network_8h.html">network.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d98/table_8h.html">table.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d6b/storage_8h.html">storage.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d16/config_8h.html">config.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d13/heartbeat_8h.html">heartbeat.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;netinet/in.h&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;sys/socket.h&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a69458329b64434f19087390e0af3a2eb">   38</a></span>&#160;<span class="preprocessor">#define LIVE_THREAD 1</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">   40</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d9f/structprivatebet__info.html">privatebet_info</a> *<a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a> = NULL;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#abe20de78a27f415da1e9437e26fd2061">   41</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d7/d03/structprivatebet__vars.html">privatebet_vars</a> *<a class="code" href="../../dd/d53/bet_8c.html#abe20de78a27f415da1e9437e26fd2061">player_vars</a> = NULL;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#ad0579cac3407f0f0cb742891f36d6e56">   43</a></span>&#160;uint8_t <a class="code" href="../../dd/d53/bet_8c.html#ad0579cac3407f0f0cb742891f36d6e56">sharenrs</a>[256];</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">   44</a></span>&#160;bits256 <a class="code" href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">deckid</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a4f81cce59752f55ccee614846f8dfec8">   45</a></span>&#160;bits256 <a class="code" href="../../dd/d53/bet_8c.html#a4f81cce59752f55ccee614846f8dfec8">playershares</a>[<a class="code" href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a>][<a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>];</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a42ef3c7ba5e18cd42816bcb7def71fbf">   46</a></span>&#160;int32_t <a class="code" href="../../dd/d53/bet_8c.html#a68a976bb37813f4fa860943eecc2779a">permis_d</a>[<a class="code" href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a>], <a class="code" href="../../dd/d53/bet_8c.html#a42ef3c7ba5e18cd42816bcb7def71fbf">permis_b</a>[<a class="code" href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a>];</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#ad6edd7e1c4d864d80357255a938dd8b9">   47</a></span>&#160;bits256 <a class="code" href="../../dd/d53/bet_8c.html#ad6edd7e1c4d864d80357255a938dd8b9">v_hash</a>[<a class="code" href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a>][<a class="code" href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a>];</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a0d28177dced0059c86fb2c7fc9c8d660">   48</a></span>&#160;bits256 <a class="code" href="../../dd/d53/bet_8c.html#a0d28177dced0059c86fb2c7fc9c8d660">g_hash</a>[<a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>][<a class="code" href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a>];</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a9af9f2fdf27f0f54f624d89b32af82ff">   49</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d0/d0d/structenc__share.html">enc_share</a> *<a class="code" href="../../dd/d53/bet_8c.html#a9af9f2fdf27f0f54f624d89b32af82ff">g_shares</a> = NULL;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">   51</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">dealer_ip</a>[20];</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a0003e578994529d42748d9e4ee5161d3">   52</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="../../dd/d53/bet_8c.html#a0003e578994529d42748d9e4ee5161d3">cashier_ip</a>[20];</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a9e00dda0694bf1b259177111d1fae6fe">   53</a></span>&#160;<span class="keywordtype">char</span> <a class="code" href="../../dd/d53/bet_8c.html#a6c050162fb9e88a91c5f7f2f7a5a6c94">unique_id</a>[65];</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">struct </span><a class="code" href="../../d9/dc2/structseat__info.html">seat_info</a> <a class="code" href="../../dd/d53/bet_8c.html#a9e00dda0694bf1b259177111d1fae6fe">player_seats_info</a>[<a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>];</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a7346eab191fc6dc0380a3acc5ded573d">   57</a></span>&#160;int32_t <a class="code" href="../../dd/d53/bet_8c.html#a7346eab191fc6dc0380a3acc5ded573d">player_pos</a>[<a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>];</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/**************************************************************************************************</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">This value is read from dealer_config.json file, it defines the exact number of players that needs</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">be joined in order to play the game.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">The default value is 2, i.e as atleast two players are required to play the game.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">***************************************************************************************************/</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">   65</a></span>&#160;int32_t <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a> = 2;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a72cf71d5ef0640767677fd54d4729359">   67</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> int32_t <a class="code" href="../../dd/d53/bet_8c.html#a72cf71d5ef0640767677fd54d4729359">poker_deck_size</a> = 52;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#ad1c0d680cfa5542409a5a81e83866c27">   69</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#ad1c0d680cfa5542409a5a81e83866c27">bet_cashier_client_initialize</a>(<span class="keywordtype">char</span> *node_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        int32_t subsock = -1, pushsock = -1;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordtype">char</span> bind_sub_addr[128], bind_push_addr[128];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_sub_addr, node_ip, port);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        subsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(0, bind_sub_addr, NN_SUB);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_push_addr, node_ip, port + 1);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        pushsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(0, bind_push_addr, NN_PUSH);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a> = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../da/d77/structcashier.html">cashier</a>));</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a>-&gt;<a class="code" href="../../da/d77/structcashier.html#a083158d9583aa41f8b92c8de3502d60d">c_subsock</a> = subsock;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a>-&gt;<a class="code" href="../../da/d77/structcashier.html#a577492f5cb062491ea96145ab56fcacb">c_pushsock</a> = pushsock;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a5e9110c489c33d2d85488e3f068ccbdc">   86</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a5e9110c489c33d2d85488e3f068ccbdc">bet_cashier_deinitialize</a>()</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                free(<a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#af4e09e4bf901fa7d49b97644bf97e7c1">   92</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#af4e09e4bf901fa7d49b97644bf97e7c1">bet_player_initialize</a>(<span class="keywordtype">char</span> *dcv_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        int32_t subsock = -1, pushsock = -1;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordtype">char</span> bind_sub_addr[128], bind_push_addr[128];</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_sub_addr, dcv_ip, port);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        subsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(0, bind_sub_addr, NN_SUB);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_push_addr, dcv_ip, port + 1);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        pushsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(0, bind_push_addr, NN_PUSH);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#abe20de78a27f415da1e9437e26fd2061">player_vars</a> = calloc(1, <span class="keyword">sizeof</span>(*<a class="code" href="../../dd/d53/bet_8c.html#abe20de78a27f415da1e9437e26fd2061">player_vars</a>));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a> = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/d9f/structprivatebet__info.html">privatebet_info</a>));</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#adf0111f2d0328b929100e926427b5ced">subsock</a> = subsock;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#aa04b8bcf4acf5ced8cfeaa006cc69249">pushsock</a> = pushsock;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a2d44b99e9160029507e6e0d04b92dbd4">maxplayers</a> = (<a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a> &lt; <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>) ? <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a> : <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a195fee78bb1a26504e4920dafea3b195">maxchips</a> = <a class="code" href="../../dc/d54/common_8h.html#ac883e19e289bb9e33d071c975d985155">CARDS777_MAXCHIPS</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a1f4c834e20b87839446da22179d2e58b">chipsize</a> = <a class="code" href="../../dc/d54/common_8h.html#a625c5123ed07e8da23de476daee01997">CARDS777_CHIPSIZE</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a8a60dda249031fc496a0307c34f3cb69">numplayers</a> = <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="../../dc/d33/table_8c.html#abd3fa7b74815028b49eecac87d9efe33">bet_info_set</a>(<a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>, <span class="stringliteral">&quot;demo&quot;</span>, <a class="code" href="../../dd/d53/bet_8c.html#a72cf71d5ef0640767677fd54d4729359">poker_deck_size</a>, 0, <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a5d80e638baeaa54929d22baf244f1347">  115</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a5d80e638baeaa54929d22baf244f1347">bet_player_deinitialize</a>()</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                free(<a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d53/bet_8c.html#abe20de78a27f415da1e9437e26fd2061">player_vars</a>)</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                free(<a class="code" href="../../dd/d53/bet_8c.html#abe20de78a27f415da1e9437e26fd2061">player_vars</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#ac2a6862edb31366c4d1a6da680f85241">  123</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#ac2a6862edb31366c4d1a6da680f85241">bet_player_thrd</a>(<span class="keywordtype">char</span> *dcv_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        pthread_t player_thrd, player_backend_write, player_backend_read;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#ifdef LIVE_THREAD</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        pthread_t player_backend;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#af4e09e4bf901fa7d49b97644bf97e7c1">bet_player_initialize</a>(dcv_ip, port);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;player_thrd, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d93/client_8c.html#a63453d2ce76fe58775a3c25bef598f6a">bet_player_backend_loop</a>, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a>) != 0) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in launching bet_player_backend_loop&quot;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#ifdef LIVE_THREAD</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;player_backend, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d93/client_8c.html#a392754f34bd754272a4557a1d01e1de5">bet_player_frontend_loop</a>, NULL) != 0) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_player_frontend_loop&quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;player_backend_read, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d93/client_8c.html#af3373cbc8ac81274887072369a44e353">bet_player_frontend_read_loop</a>, NULL) != 0) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_player_frontend_loop&quot;</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;player_backend_write, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d93/client_8c.html#a54565e106e7652a333b51cb5184bf510">bet_player_frontend_write_loop</a>, NULL) != 0) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_player_frontend_loop&quot;</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">if</span> (pthread_join(player_backend_read, NULL)) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for player_thrd&quot;</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keywordflow">if</span> (pthread_join(player_backend_write, NULL)) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for player_thrd&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">if</span> (pthread_join(player_thrd, NULL)) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for player_thrd&quot;</span>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#if LIVE_THREAD</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">if</span> (pthread_join(player_backend, NULL)) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for player_backend&quot;</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#a5d80e638baeaa54929d22baf244f1347">bet_player_deinitialize</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a475994d3b8d287f74d9bcf83eab44595">  172</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a475994d3b8d287f74d9bcf83eab44595">bet_bvv_initialize</a>(<span class="keywordtype">char</span> *dcv_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        int32_t subsock = -1, pushsock = -1;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordtype">char</span> bind_sub_addr[128], bind_push_addr[128];</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_sub_addr, dcv_ip, port);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        subsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(0, bind_sub_addr, NN_SUB);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_push_addr, dcv_ip, port + 1);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        pushsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(0, bind_push_addr, NN_PUSH);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#ac49dcdcdce0afba5b6d3966d1ee9aa2a">bvv_vars</a> = calloc(1, <span class="keyword">sizeof</span>(*<a class="code" href="../../dd/d93/client_8c.html#ac49dcdcdce0afba5b6d3966d1ee9aa2a">bvv_vars</a>));</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a> = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/d9f/structprivatebet__info.html">privatebet_info</a>));</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#adf0111f2d0328b929100e926427b5ced">subsock</a> = subsock;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#aa04b8bcf4acf5ced8cfeaa006cc69249">pushsock</a> = pushsock;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a2d44b99e9160029507e6e0d04b92dbd4">maxplayers</a> = (<a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a> &lt; <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>) ? <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a> : <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a195fee78bb1a26504e4920dafea3b195">maxchips</a> = <a class="code" href="../../dc/d54/common_8h.html#ac883e19e289bb9e33d071c975d985155">CARDS777_MAXCHIPS</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a1f4c834e20b87839446da22179d2e58b">chipsize</a> = <a class="code" href="../../dc/d54/common_8h.html#a625c5123ed07e8da23de476daee01997">CARDS777_CHIPSIZE</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a8a60dda249031fc496a0307c34f3cb69">numplayers</a> = <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#ad502ebd5a1f56f383db682da311e813e">myplayerid</a> = -1;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <a class="code" href="../../dc/d33/table_8c.html#abd3fa7b74815028b49eecac87d9efe33">bet_info_set</a>(<a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>, <span class="stringliteral">&quot;demo&quot;</span>, <a class="code" href="../../dd/d53/bet_8c.html#a72cf71d5ef0640767677fd54d4729359">poker_deck_size</a>, 0, <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#aeebf318c0558fb16e78578f9090cce82">  195</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#aeebf318c0558fb16e78578f9090cce82">bet_bvv_deinitialize</a>()</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                free(<a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dd/d93/client_8c.html#ac49dcdcdce0afba5b6d3966d1ee9aa2a">bvv_vars</a>)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                free(<a class="code" href="../../dd/d93/client_8c.html#ac49dcdcdce0afba5b6d3966d1ee9aa2a">bvv_vars</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#af311f12b5b16568e399e5e646abf672a">  203</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#af311f12b5b16568e399e5e646abf672a">bet_bvv_thrd</a>(<span class="keywordtype">char</span> *dcv_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        pthread_t bvv_backend <span class="comment">/*, bvv_frontend*/</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#a475994d3b8d287f74d9bcf83eab44595">bet_bvv_initialize</a>(dcv_ip, port);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;bvv_backend, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d93/client_8c.html#a197bd07bf82a94eee3dcdb8d0ded9328">bet_bvv_backend_loop</a>, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a>) != 0) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_bvv_backend_loop&quot;</span>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span> (pthread_join(bvv_backend, NULL)) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for bvv_thrd&quot;</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#aeebf318c0558fb16e78578f9090cce82">bet_bvv_deinitialize</a>();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#aa860977a7c9179f036b66390138b971b">  218</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#aa860977a7c9179f036b66390138b971b">bet_dcv_initialize</a>(<span class="keywordtype">char</span> *dcv_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        int32_t pubsock = -1, pullsock = -1;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordtype">char</span> bind_pub_addr[128], bind_pull_addr[128];</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_pub_addr, dcv_ip, port);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        pubsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(1, bind_pub_addr, NN_PUB);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_pull_addr, dcv_ip, port + 1);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        pullsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(1, bind_pull_addr, NN_PULL);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a> = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d0/d9f/structprivatebet__info.html">privatebet_info</a>));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a2443f8a982fb92f3cab78d35d54aeb24">pubsock</a> = pubsock;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a5a624f46decb6be461ec1e4edc0cc140">pullsock</a> = pullsock;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a2d44b99e9160029507e6e0d04b92dbd4">maxplayers</a> = (<a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a> &lt; <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>) ? <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a> : <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a195fee78bb1a26504e4920dafea3b195">maxchips</a> = <a class="code" href="../../dc/d54/common_8h.html#ac883e19e289bb9e33d071c975d985155">CARDS777_MAXCHIPS</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a1f4c834e20b87839446da22179d2e58b">chipsize</a> = <a class="code" href="../../dc/d54/common_8h.html#a625c5123ed07e8da23de476daee01997">CARDS777_CHIPSIZE</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a8a60dda249031fc496a0307c34f3cb69">numplayers</a> = 0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#ad502ebd5a1f56f383db682da311e813e">myplayerid</a> = -2;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#ac1a593b6b04f50e52892def22a3fdd53">cardid</a> = -1;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a4a3070b8d22e8ce276a72d45db56353e">turni</a> = -1;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#ad37d01428dc307e9deaf5768596e94ef">no_of_turns</a> = 0;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="../../dc/d33/table_8c.html#abd3fa7b74815028b49eecac87d9efe33">bet_info_set</a>(<a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>, <span class="stringliteral">&quot;demo&quot;</span>, <a class="code" href="../../dd/d53/bet_8c.html#a72cf71d5ef0640767677fd54d4729359">poker_deck_size</a>, 0, <a class="code" href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>-&gt;<a class="code" href="../../d0/d9f/structprivatebet__info.html#a256ab6b96f4e57798f0d439dcfe234e5">msg</a> = cJSON_CreateObject();</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a> = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../d7/d03/structprivatebet__vars.html">privatebet_vars</a>));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#a9bda4d6f988f69e54218f62c3bcd1233">turni</a> = 0;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#a184f9ce3af1e6e3b08aa2e6d9b0cdbf1">round</a> = 0;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#a1b05ab6687bf00d8f08bfd424531e795">pot</a> = 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#a010311c27ac57ee8379a1c378ccc2dbf">last_turn</a> = 0;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#afee2532af1662a5b177f02207be87704">last_raise</a> = 0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>; i++) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#acb9cb80d690397299df31c2495f5ae87">funds</a>[i] = 0;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../dc/d54/common_8h.html#aa7cb3dc82286cdcfc50250b3ec3ae769">CARDS777_MAXROUNDS</a>; j++) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#a381939fb9b7f85c0b09f3af728eb5b42">bet_actions</a>[i][j] = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        <a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>-&gt;<a class="code" href="../../d7/d03/structprivatebet__vars.html#ad76c9dddaf0a04d2ebb1e9ee95d3c8af">betamount</a>[i][j] = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; <a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>; i++) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a7346eab191fc6dc0380a3acc5ded573d">player_pos</a>[i] = 0;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#adb7af14559d9153b3b7ab2e7354d7a28">  263</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#adb7af14559d9153b3b7ab2e7354d7a28">bet_dcv_deinitialize</a>()</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                free(<a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                free(<a class="code" href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#afcdca9e81e58ca60c65b7adb4a84a625">  271</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#afcdca9e81e58ca60c65b7adb4a84a625">bet_dcv_thrd</a>(<span class="keywordtype">char</span> *dcv_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;{</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        pthread_t dcv_backend, dcv_thrd;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#ifdef LIVE_THREAD</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        pthread_t live_thrd;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#aa860977a7c9179f036b66390138b971b">bet_dcv_initialize</a>(dcv_ip, port);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="preprocessor">#ifdef LIVE_THREAD</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;live_thrd, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../dd/d45/heartbeat_8c.html#a1e1b1897c7cfb23cafb64defd10dc979">bet_dcv_heartbeat_loop</a>, (<span class="keywordtype">void</span> *)<a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>) != 0) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_dcv_heartbeat_loop&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;dcv_backend, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../df/da9/host_8c.html#a4a99b05847806e42fbcfc3b5cedc4380">bet_dcv_backend_loop</a>, (<span class="keywordtype">void</span> *)<a class="code" href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a>) != 0) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_dcv_backend_loop&quot;</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;dcv_thrd, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../df/da9/host_8c.html#a2ac04c6502a7b7e3c50f6aaf6cc4eb41">bet_dcv_frontend_loop</a>, NULL) != 0) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_dcv_frontend_loop&quot;</span>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="keywordflow">if</span> (pthread_join(dcv_backend, NULL)) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for dcv_backend&quot;</span>);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> (pthread_join(dcv_thrd, NULL)) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for dcv_thrd&quot;</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">#ifdef LIVE_THREAD</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">if</span> (pthread_join(live_thrd, NULL)) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for bet_dcv_heartbeat_loop&quot;</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#adb7af14559d9153b3b7ab2e7354d7a28">bet_dcv_deinitialize</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a53c0e03ace1222a4603e870100d409c7">  308</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a53c0e03ace1222a4603e870100d409c7">bet_cashier_server_initialize</a>(<span class="keywordtype">char</span> *node_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;{</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        int32_t pubsock = -1, pullsock = -1;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordtype">char</span> bind_pub_addr[128], bind_pull_addr[128];</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_pub_addr, node_ip, port);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        pubsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(1, bind_pub_addr, NN_PUB);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a>(0, bind_pull_addr, node_ip, port + 1);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        pullsock = <a class="code" href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a>(1, bind_pull_addr, NN_PULL);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a> = calloc(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="../../da/d77/structcashier.html">cashier</a>));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a>-&gt;<a class="code" href="../../da/d77/structcashier.html#aeff03d6f79d5d7908c8f8d77de2265b2">c_pubsock</a> = pubsock;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a>-&gt;<a class="code" href="../../da/d77/structcashier.html#a0a43e10afc008c60f57b3e4341061d83">c_pullsock</a> = pullsock;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a2ffe5af3c560b2846ce9aaa4f900ea3a">  325</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a2ffe5af3c560b2846ce9aaa4f900ea3a">bet_cashier_server_thrd</a>(<span class="keywordtype">char</span> *node_ip, <span class="keyword">const</span> int32_t port)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;{</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        pthread_t server_thrd;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#a53c0e03ace1222a4603e870100d409c7">bet_cashier_server_initialize</a>(node_ip, port);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> (OS_thread_create(&amp;server_thrd, NULL, (<span class="keywordtype">void</span> *)<a class="code" href="../../de/d4f/cashier_8c.html#ad514f45748e5a23f2439928c5c74b513">bet_cashier_server_loop</a>, (<span class="keywordtype">void</span> *)<a class="code" href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a>) != 0) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error launching bet_dcv_live_loop]n&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                exit(-1);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (pthread_join(server_thrd, NULL)) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                dlg_error(<span class="stringliteral">&quot;Error in joining the main thread for live_thrd&quot;</span>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#a5e9110c489c33d2d85488e3f068ccbdc">bet_cashier_deinitialize</a>();</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a9e4edbcf57620d008703d803b40c271e">  340</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a9e4edbcf57620d008703d803b40c271e">bet_display_usage</a>()</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        dlg_info(<span class="stringliteral">&quot;For DCV: ./bet dcv dcv_ip_address&quot;</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        dlg_info(<span class="stringliteral">&quot;For Player: ./bet player&quot;</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        dlg_info(<span class="stringliteral">&quot;For Cashier: ./bet cashier cashier_ip_address&quot;</span>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        dlg_info(<span class="stringliteral">&quot;For Withdraw: ./bet withdraw amount addr&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a8f7a8ea0a95583fd121707aa63ffbcc1">  348</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a8f7a8ea0a95583fd121707aa63ffbcc1">bet_set_unique_id</a>()</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        bits256 randval;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        memset(<a class="code" href="../../dd/d53/bet_8c.html#a6c050162fb9e88a91c5f7f2f7a5a6c94">unique_id</a>, 0x00, <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d53/bet_8c.html#a6c050162fb9e88a91c5f7f2f7a5a6c94">unique_id</a>));</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        OS_randombytes(randval.bytes, <span class="keyword">sizeof</span>(randval));</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        bits256_str(<a class="code" href="../../dd/d53/bet_8c.html#a6c050162fb9e88a91c5f7f2f7a5a6c94">unique_id</a>, randval);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a4db83fee3678a9405e4ea60ed87410eb">  356</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a4db83fee3678a9405e4ea60ed87410eb">common_init</a>()</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        OS_init();</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="../../d9/d0a/gfshare_8c.html#a8da60e5c8a3ff68bdf483dc027e326c9">libgfshare_init</a>();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="../../de/d21/commands_8c.html#af32277231a4357cbc4743ce3f8361fc9">check_ln_chips_sync</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <a class="code" href="../../d2/dd2/storage_8c.html#a1012b6a856d8771e3ac59cdb823b714b">bet_sqlite3_init</a>();</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="code" href="../../d3/d95/config_8c.html#ac603523926a60770d32749111343ddb4">bet_parse_cashier_nodes_file</a>();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a834a66cb0b993e25ec7b32d676b03d06">  365</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a834a66cb0b993e25ec7b32d676b03d06">playing_nodes_init</a>()</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#a4db83fee3678a9405e4ea60ed87410eb">common_init</a>();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a93084c3775e53c0c3bd0285d7fbd8993">bet_check_cashier_nodes</a>();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#afdeb1585924d8fe716283fb259656031">  371</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#afdeb1585924d8fe716283fb259656031">dealer_node_init</a>()</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="../../d3/d95/config_8c.html#a64bcace7ad2730706843b1438fdc7148">bet_parse_dealer_config_file</a>();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="../../df/da9/host_8c.html#a389deacc87a2a7cfd354c250eac9aee9">bet_set_table_id</a>();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a70b0d33f182c6c19501f82cd93c7fbee">bet_compute_m_of_n_msig_addr</a>();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="../../de/d4f/cashier_8c.html#a5fb21f1b1a12ec8700f89bc0a1ff6e6d">bet_game_multisigaddress</a>();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="../../df/da9/host_8c.html#a15aeaa19a95feae0e06c046d0e7dd6f7">bet_init_player_seats_info</a>();</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;}</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a17222fe413edd1f6baecde62a8c9909d">  380</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a17222fe413edd1f6baecde62a8c9909d">bet_send_dealer_info_to_cashier</a>(<span class="keywordtype">char</span> *<a class="code" href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">dealer_ip</a>)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        cJSON *dealer_info = NULL;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        dealer_info = cJSON_CreateObject();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        cJSON_AddStringToObject(dealer_info, <span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;dealer_info&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        cJSON_AddStringToObject(dealer_info, <span class="stringliteral">&quot;ip&quot;</span>, <a class="code" href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">dealer_ip</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; <a class="code" href="../../de/d4f/cashier_8c.html#ad4c489d7e10c84b3fb4128c32974384b">no_of_notaries</a>; i++) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../de/d4f/cashier_8c.html#a23a4c180fe04f644c4a4f584cdb2e853">notary_status</a>[i] == 1) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                        <a class="code" href="../../de/d4f/cashier_8c.html#abb16999b7087944aff80aa7838eec2ad">bet_msg_cashier</a>(dealer_info, <a class="code" href="../../de/d4f/cashier_8c.html#a04cf97d0c424e2bd6e03b5c5efd4d53a">notary_node_ips</a>[i]);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a74b18b66a6dc8a9ff681cb788be38eaf">  395</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code" href="../../dd/d53/bet_8c.html#a74b18b66a6dc8a9ff681cb788be38eaf">bet_pick_dealer</a>()</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;{</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        cJSON *available_dealers = NULL;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        cJSON *dcv_state_rqst = NULL, *dcv_state_info = NULL;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        available_dealers = <a class="code" href="../../dd/d93/client_8c.html#a9dfb6a1d4d0a7e2264e6fb2e57387264">bet_get_available_dealers</a>();</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        dcv_state_rqst = cJSON_CreateObject();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        cJSON_AddStringToObject(dcv_state_rqst, <span class="stringliteral">&quot;method&quot;</span>, <span class="stringliteral">&quot;dcv_state&quot;</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        cJSON_AddStringToObject(dcv_state_rqst, <span class="stringliteral">&quot;id&quot;</span>, <a class="code" href="../../dd/d53/bet_8c.html#a6c050162fb9e88a91c5f7f2f7a5a6c94">unique_id</a>);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; cJSON_GetArraySize(available_dealers); i++) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                dcv_state_info = <a class="code" href="../../d6/d6e/network_8c.html#a45b096386283dc36e3520da83d01ddc6">bet_msg_dealer_with_response_id</a>(</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        dcv_state_rqst, unstringify(cJSON_Print(cJSON_GetArrayItem(available_dealers, i))),</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        <span class="stringliteral">&quot;dcv_state&quot;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">if</span> (jint(dcv_state_info, <span class="stringliteral">&quot;dcv_state&quot;</span>) == 0) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        <span class="keywordflow">return</span> unstringify(cJSON_Print(cJSON_GetArrayItem(available_dealers, i)));</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;}</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">  416</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../dd/d53/bet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        uint16_t port = 7797, cashier_pub_sub_port = 7901;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordtype">char</span> *ip = NULL;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="../../dd/d53/bet_8c.html#a8f7a8ea0a95583fd121707aa63ffbcc1">bet_set_unique_id</a>();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <a class="code" href="../../d3/d95/config_8c.html#a64bcace7ad2730706843b1438fdc7148">bet_parse_dealer_config_file</a>();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">if</span> ((argc == 2) &amp;&amp; (strcmp(argv[1], <span class="stringliteral">&quot;player&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a834a66cb0b993e25ec7b32d676b03d06">playing_nodes_init</a>();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                dlg_info(<span class="stringliteral">&quot;Finding the dealer&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        ip = <a class="code" href="../../dd/d53/bet_8c.html#a74b18b66a6dc8a9ff681cb788be38eaf">bet_pick_dealer</a>();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                        <span class="keywordflow">if</span> (!ip)</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                sleep(2);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                } <span class="keywordflow">while</span> (ip == NULL);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordflow">if</span> (ip) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        dlg_info(<span class="stringliteral">&quot;The dealer is :: %s\n&quot;</span>, ip);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        <a class="code" href="../../dd/d53/bet_8c.html#ac2a6862edb31366c4d1a6da680f85241">bet_player_thrd</a>(ip, port);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((argc == 2) &amp;&amp; ((strcmp(argv[1], <span class="stringliteral">&quot;-h&quot;</span>) == 0) || (strcmp(argv[1], <span class="stringliteral">&quot;h&quot;</span>) == 0) ||</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                                   (strcmp(argv[1], <span class="stringliteral">&quot;--help&quot;</span>) == 0) || (strcmp(argv[1], <span class="stringliteral">&quot;help&quot;</span>) == 0))) {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a9e4edbcf57620d008703d803b40c271e">bet_display_usage</a>();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((argc == 2) &amp;&amp; ((strcmp(argv[1], <span class="stringliteral">&quot;-v&quot;</span>) == 0) || (strcmp(argv[1], <span class="stringliteral">&quot;v&quot;</span>) == 0) ||</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                   (strcmp(argv[1], <span class="stringliteral">&quot;--version&quot;</span>) == 0) || (strcmp(argv[1], <span class="stringliteral">&quot;version&quot;</span>) == 0))) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                dlg_info(<span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="../../de/d21/commands_8c.html#ae99e72443901b9ca4fb41a8344506a4b">bet_git_version</a>());</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((argc == 3) &amp;&amp; (strcmp(argv[1], <span class="stringliteral">&quot;dcv&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                strcpy(<a class="code" href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">dealer_ip</a>, argv[2]);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a834a66cb0b993e25ec7b32d676b03d06">playing_nodes_init</a>();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a17222fe413edd1f6baecde62a8c9909d">bet_send_dealer_info_to_cashier</a>(<a class="code" href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">dealer_ip</a>);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#afdeb1585924d8fe716283fb259656031">dealer_node_init</a>();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <a class="code" href="../../de/d4f/cashier_8c.html#aba0f1ae4fb5d88fe854e03f840fed39c">find_bvv</a>();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#afcdca9e81e58ca60c65b7adb4a84a625">bet_dcv_thrd</a>(<a class="code" href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">dealer_ip</a>, port);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((argc == 3) &amp;&amp; (strcmp(argv[1], <span class="stringliteral">&quot;cashier&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                strcpy(<a class="code" href="../../dd/d53/bet_8c.html#a0003e578994529d42748d9e4ee5161d3">cashier_ip</a>, argv[2]);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a4db83fee3678a9405e4ea60ed87410eb">common_init</a>();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a2ffe5af3c560b2846ce9aaa4f900ea3a">bet_cashier_server_thrd</a>(<a class="code" href="../../dd/d53/bet_8c.html#a0003e578994529d42748d9e4ee5161d3">cashier_ip</a>, cashier_pub_sub_port);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((argc == 4) &amp;&amp; (strcmp(argv[1], <span class="stringliteral">&quot;withdraw&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                cJSON *tx = NULL;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                tx = <a class="code" href="../../de/d21/commands_8c.html#aa2f5924aa180ba7f7340d699a6f77027">chips_transfer_funds</a>(atof(argv[2]), argv[3]);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                dlg_info(<span class="stringliteral">&quot;tx details::%s\n&quot;</span>, cJSON_Print(tx));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((argc &gt; 2) &amp;&amp; (strcmp(argv[1], <span class="stringliteral">&quot;game&quot;</span>) == 0)) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a834a66cb0b993e25ec7b32d676b03d06">playing_nodes_init</a>();</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                <a class="code" href="../../de/d4f/cashier_8c.html#acc22c45a6d85c8a7999adaa1d5d4fc0e">bet_handle_game</a>(argc, argv);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                dlg_info(<span class="stringliteral">&quot;Invalid Usage, use the flag -h or --help to get more usage details&quot;</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a9e4edbcf57620d008703d803b40c271e">bet_display_usage</a>();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a486c8d59b898af86c8e498798a3d500a">  469</a></span>&#160;bits256 <a class="code" href="../../dd/d53/bet_8c.html#a486c8d59b898af86c8e498798a3d500a">curve25519_fieldelement</a>(bits256 hash)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        hash.bytes[0] &amp;= 0xf8, hash.bytes[31] &amp;= 0x7f, hash.bytes[31] |= 0x40;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">return</span> (hash);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a639f0e80f94d1ce9adf7bb0d52f8f77b">  475</a></span>&#160;bits256 <a class="code" href="../../dd/d53/bet_8c.html#a639f0e80f94d1ce9adf7bb0d52f8f77b">card_rand256</a>(int32_t privkeyflag, int8_t index)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        bits256 randval;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        OS_randombytes(randval.bytes, <span class="keyword">sizeof</span>(randval));</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">if</span> (privkeyflag != 0)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                randval.bytes[0] &amp;= 0xf8, randval.bytes[31] &amp;= 0x7f, randval.bytes[31] |= 0x40;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        randval.bytes[30] = index;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keywordflow">return</span> (randval);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/df9/structpair256.html">pair256</a> <a class="code" href="../../dd/d53/bet_8c.html#af1caf4bd39a77add770c8e9a9b859c25">deckgen_common</a>(struct <a class="code" href="../../de/df9/structpair256.html">pair256</a> *randcards, int32_t numcards)</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        int32_t i;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../de/df9/structpair256.html">pair256</a> key, tmp;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        key.<a class="code" href="../../de/df9/structpair256.html#a08e3b8e0e895b13eebc705b35e6113aa">priv</a> = curve25519_keypair(&amp;key.prod);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; numcards; i++) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                tmp.priv = <a class="code" href="../../dd/d53/bet_8c.html#a639f0e80f94d1ce9adf7bb0d52f8f77b">card_rand256</a>(1, i);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                tmp.prod = curve25519(tmp.priv, curve25519_basepoint9());</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                randcards[i] = tmp;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">return</span> (key);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#a15b788badb600230760e48274d4f36b6">  498</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d53/bet_8c.html#a15b788badb600230760e48274d4f36b6">deckgen_common2</a>(<span class="keyword">struct</span> <a class="code" href="../../de/df9/structpair256.html">pair256</a> *randcards, int32_t numcards)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; numcards; i++)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                randcards[i].<a class="code" href="../../de/df9/structpair256.html#a08e3b8e0e895b13eebc705b35e6113aa">priv</a> = curve25519_keypair(&amp;randcards[i].<a class="code" href="../../de/df9/structpair256.html#a3d40c38f9e09a72c32f584c783528c7a">prod</a>);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;}</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/df9/structpair256.html">pair256</a> <a class="code" href="../../dd/d53/bet_8c.html#ae418903f2f00fb0f13c7d21858a4efdd">deckgen_player</a>(bits256 *playerprivs, bits256 *playercards, int32_t *permis, int32_t numcards)</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        int32_t i;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../de/df9/structpair256.html">pair256</a> key, randcards[256];</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordtype">char</span> hexstr[65];</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        key = <a class="code" href="../../dd/d53/bet_8c.html#af1caf4bd39a77add770c8e9a9b859c25">deckgen_common</a>(randcards, numcards);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="../../d5/d08/cards777_8c.html#a8702768abbdbd84504aed93cde7a5bc8">bet_permutation</a>(permis, numcards);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        dlg_info(<span class="stringliteral">&quot;The player key values\n&quot;</span>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        dlg_info(<span class="stringliteral">&quot;priv key::%s\n&quot;</span>, bits256_str(hexstr, key.priv));</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        dlg_info(<span class="stringliteral">&quot;pub key::%s\n&quot;</span>, bits256_str(hexstr, key.prod));</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="comment">//dlg_info(&quot;The player private key card values\n&quot;);</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; numcards; i++) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                playerprivs[i] = randcards[i].<a class="code" href="../../de/df9/structpair256.html#a08e3b8e0e895b13eebc705b35e6113aa">priv</a>; <span class="comment">// permis[i]</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                playercards[i] = curve25519(playerprivs[i], key.prod);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                <span class="comment">//dlg_info(&quot;card ::%d::%s\n&quot;,i,bits256_str(hexstr,playercards[i]));</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">return</span> (key);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="../../dd/d53/bet_8c.html#aed0d6ecdf0b295306ebdc2ce145bdd01">  524</a></span>&#160;int32_t <a class="code" href="../../dd/d53/bet_8c.html#a8d60448109ceb768b85e3e46a56b523d">sg777_deckgen_vendor</a>(int32_t playerid, bits256 *cardprods, bits256 *finalcards, int32_t numcards,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                             bits256 *playercards,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                             bits256 <a class="code" href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">deckid</a>) <span class="comment">// given playercards[], returns cardprods[] and finalcards[]</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;{</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="../../de/df9/structpair256.html">pair256</a> randcards[256];</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keyword">static</span> bits256 active_deckid, hash_temp[<a class="code" href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a>];</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        int32_t retval = 1;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        bits256 hash, xoverz, tmp[256];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">if</span> (bits256_cmp(<a class="code" href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">deckid</a>, active_deckid) != 0)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a15b788badb600230760e48274d4f36b6">deckgen_common2</a>(randcards, numcards);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                retval = -1;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                <span class="keywordflow">goto</span> end;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; numcards; i++) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                xoverz = <a class="code" href="../../df/d5a/bet_8h.html#ac1717706afec7e9fd7ce46acc957a381">xoverz_donna</a>(curve25519(randcards[i].<a class="code" href="../../de/df9/structpair256.html#a08e3b8e0e895b13eebc705b35e6113aa">priv</a>, playercards[i]));</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                vcalc_sha256(0, hash.bytes, xoverz.bytes, <span class="keyword">sizeof</span>(xoverz));</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                hash_temp[i] = hash; <span class="comment">// optimization</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                tmp[i] = <a class="code" href="../../df/d5a/bet_8h.html#a4eed07cb5561b32c853dd9ac514ea68b">fmul_donna</a>(<a class="code" href="../../dd/d53/bet_8c.html#a486c8d59b898af86c8e498798a3d500a">curve25519_fieldelement</a>(hash), randcards[i].<a class="code" href="../../de/df9/structpair256.html#a08e3b8e0e895b13eebc705b35e6113aa">priv</a>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">for</span> (int32_t i = 0; i &lt; numcards; i++) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                finalcards[i] = tmp[<a class="code" href="../../dd/d53/bet_8c.html#a68a976bb37813f4fa860943eecc2779a">permis_d</a>[i]];</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <a class="code" href="../../dd/d53/bet_8c.html#a0d28177dced0059c86fb2c7fc9c8d660">g_hash</a>[playerid][i] = hash_temp[<a class="code" href="../../dd/d53/bet_8c.html#a68a976bb37813f4fa860943eecc2779a">permis_d</a>[i]]; <span class="comment">// optimization</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                cardprods[i] = randcards[i].<a class="code" href="../../de/df9/structpair256.html#a3d40c38f9e09a72c32f584c783528c7a">prod</a>; <span class="comment">// same cardprods[] returned for each player</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;end:</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;}</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="keyword">struct </span><a class="code" href="../../de/df9/structpair256.html">pair256</a> <a class="code" href="../../dd/d53/bet_8c.html#aed0d6ecdf0b295306ebdc2ce145bdd01">p2p_bvv_init</a>(bits256 *keys, <span class="keyword">struct </span><a class="code" href="../../de/df9/structpair256.html">pair256</a> b_key, bits256 *blindings, bits256 *blindedcards,</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                            bits256 *finalcards, int32_t numcards, int32_t numplayers, int32_t playerid, bits256 <a class="code" href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">deckid</a>)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;{</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        int32_t i, j, M;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        uint8_t space[8192];</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        bits256 cardshares[<a class="code" href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a>];</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="keyword">struct </span><a class="code" href="../../d0/d0d/structenc__share.html">enc_share</a> temp;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; numcards; i++) {</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                blindings[i] = rand256(1);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                blindedcards[i] = <a class="code" href="../../df/d5a/bet_8h.html#a4eed07cb5561b32c853dd9ac514ea68b">fmul_donna</a>(finalcards[<a class="code" href="../../dd/d53/bet_8c.html#a42ef3c7ba5e18cd42816bcb7def71fbf">permis_b</a>[i]], blindings[i]);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        }</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        M = (numplayers / 2) + 1;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <a class="code" href="../../d9/d0a/gfshare_8c.html#a7137856a8a64316ff96b8e6dae47c5a9">gfshare_calc_sharenrs</a>(<a class="code" href="../../dd/d53/bet_8c.html#ad0579cac3407f0f0cb742891f36d6e56">sharenrs</a>, numplayers, <a class="code" href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">deckid</a>.bytes,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                              <span class="keyword">sizeof</span>(<a class="code" href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">deckid</a>)); <span class="comment">// same for all players for this round</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">for</span> (i = 0; i &lt; numcards; i++) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <a class="code" href="../../d9/d0a/gfshare_8c.html#a9b3942a13178129e7e2188454fdec070">gfshare_calc_shares</a>(cardshares[0].<a class="code" href="../../d0/d0d/structenc__share.html#ae6113029fd5982c537b79d4169d1255d">bytes</a>, blindings[i].<a class="code" href="../../d0/d0d/structenc__share.html#ae6113029fd5982c537b79d4169d1255d">bytes</a>, <span class="keyword">sizeof</span>(bits256), <span class="keyword">sizeof</span>(bits256), M,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                                    numplayers, <a class="code" href="../../dd/d53/bet_8c.html#ad0579cac3407f0f0cb742891f36d6e56">sharenrs</a>, space, <span class="keyword">sizeof</span>(space));</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="comment">// create combined allshares</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; numplayers; j++) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                        <span class="comment">// dlg_info(&quot;%s --&gt; &quot;,bits256_str(hexstr,cardshares[j]));</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                        <a class="code" href="../../d5/d08/cards777_8c.html#a046144d8354943e2b9531ec729e7d363">bet_cipher_create</a>(b_key.priv, keys[j], temp.bytes, cardshares[j].bytes, <span class="keyword">sizeof</span>(cardshares[j]));</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                        memcpy(<a class="code" href="../../dd/d53/bet_8c.html#a9af9f2fdf27f0f54f624d89b32af82ff">g_shares</a>[numplayers * numcards * playerid + i * numplayers + j].<a class="code" href="../../d0/d0d/structenc__share.html#ae6113029fd5982c537b79d4169d1255d">bytes</a>, temp.bytes,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                               <span class="keyword">sizeof</span>(temp));</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">return</span> b_key;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="ttc" id="abet_8c_html_a0003e578994529d42748d9e4ee5161d3"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a0003e578994529d42748d9e4ee5161d3">cashier_ip</a></div><div class="ttdeci">char cashier_ip[20]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00052">bet.c:52</a></div></div>
<div class="ttc" id="abet_8c_html_a097028f2c20ab139a38e5c621193f223"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a097028f2c20ab139a38e5c621193f223">max_players</a></div><div class="ttdeci">int32_t max_players</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00065">bet.c:65</a></div></div>
<div class="ttc" id="abet_8c_html_a0d28177dced0059c86fb2c7fc9c8d660"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a0d28177dced0059c86fb2c7fc9c8d660">g_hash</a></div><div class="ttdeci">bits256 g_hash[CARDS777_MAXPLAYERS][CARDS777_MAXCARDS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00048">bet.c:48</a></div></div>
<div class="ttc" id="abet_8c_html_a15b788badb600230760e48274d4f36b6"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a15b788badb600230760e48274d4f36b6">deckgen_common2</a></div><div class="ttdeci">void deckgen_common2(struct pair256 *randcards, int32_t numcards)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00498">bet.c:498</a></div></div>
<div class="ttc" id="abet_8c_html_a17222fe413edd1f6baecde62a8c9909d"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a17222fe413edd1f6baecde62a8c9909d">bet_send_dealer_info_to_cashier</a></div><div class="ttdeci">static void bet_send_dealer_info_to_cashier(char *dealer_ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00380">bet.c:380</a></div></div>
<div class="ttc" id="abet_8c_html_a2ffe5af3c560b2846ce9aaa4f900ea3a"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a2ffe5af3c560b2846ce9aaa4f900ea3a">bet_cashier_server_thrd</a></div><div class="ttdeci">static void bet_cashier_server_thrd(char *node_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00325">bet.c:325</a></div></div>
<div class="ttc" id="abet_8c_html_a3c04138a5bfe5d72780bb7e82a18e627"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a></div><div class="ttdeci">int main(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00416">bet.c:416</a></div></div>
<div class="ttc" id="abet_8c_html_a42ef3c7ba5e18cd42816bcb7def71fbf"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a42ef3c7ba5e18cd42816bcb7def71fbf">permis_b</a></div><div class="ttdeci">int32_t permis_b[CARDS777_MAXCARDS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00046">bet.c:46</a></div></div>
<div class="ttc" id="abet_8c_html_a475994d3b8d287f74d9bcf83eab44595"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a475994d3b8d287f74d9bcf83eab44595">bet_bvv_initialize</a></div><div class="ttdeci">static void bet_bvv_initialize(char *dcv_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00172">bet.c:172</a></div></div>
<div class="ttc" id="abet_8c_html_a486c8d59b898af86c8e498798a3d500a"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a486c8d59b898af86c8e498798a3d500a">curve25519_fieldelement</a></div><div class="ttdeci">bits256 curve25519_fieldelement(bits256 hash)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00469">bet.c:469</a></div></div>
<div class="ttc" id="abet_8c_html_a4db83fee3678a9405e4ea60ed87410eb"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a4db83fee3678a9405e4ea60ed87410eb">common_init</a></div><div class="ttdeci">static void common_init()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00356">bet.c:356</a></div></div>
<div class="ttc" id="abet_8c_html_a4f81cce59752f55ccee614846f8dfec8"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a4f81cce59752f55ccee614846f8dfec8">playershares</a></div><div class="ttdeci">bits256 playershares[CARDS777_MAXCARDS][CARDS777_MAXPLAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00045">bet.c:45</a></div></div>
<div class="ttc" id="abet_8c_html_a53c0e03ace1222a4603e870100d409c7"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a53c0e03ace1222a4603e870100d409c7">bet_cashier_server_initialize</a></div><div class="ttdeci">static void bet_cashier_server_initialize(char *node_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00308">bet.c:308</a></div></div>
<div class="ttc" id="abet_8c_html_a5d80e638baeaa54929d22baf244f1347"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a5d80e638baeaa54929d22baf244f1347">bet_player_deinitialize</a></div><div class="ttdeci">static void bet_player_deinitialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00115">bet.c:115</a></div></div>
<div class="ttc" id="abet_8c_html_a5e9110c489c33d2d85488e3f068ccbdc"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a5e9110c489c33d2d85488e3f068ccbdc">bet_cashier_deinitialize</a></div><div class="ttdeci">static void bet_cashier_deinitialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00086">bet.c:86</a></div></div>
<div class="ttc" id="abet_8c_html_a639f0e80f94d1ce9adf7bb0d52f8f77b"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a639f0e80f94d1ce9adf7bb0d52f8f77b">card_rand256</a></div><div class="ttdeci">bits256 card_rand256(int32_t privkeyflag, int8_t index)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00475">bet.c:475</a></div></div>
<div class="ttc" id="abet_8c_html_a68a976bb37813f4fa860943eecc2779a"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a68a976bb37813f4fa860943eecc2779a">permis_d</a></div><div class="ttdeci">int32_t permis_d[CARDS777_MAXCARDS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00046">bet.c:46</a></div></div>
<div class="ttc" id="abet_8c_html_a6c050162fb9e88a91c5f7f2f7a5a6c94"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a6c050162fb9e88a91c5f7f2f7a5a6c94">unique_id</a></div><div class="ttdeci">char unique_id[65]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00053">bet.c:53</a></div></div>
<div class="ttc" id="abet_8c_html_a72cf71d5ef0640767677fd54d4729359"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a72cf71d5ef0640767677fd54d4729359">poker_deck_size</a></div><div class="ttdeci">static const int32_t poker_deck_size</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00067">bet.c:67</a></div></div>
<div class="ttc" id="abet_8c_html_a7346eab191fc6dc0380a3acc5ded573d"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a7346eab191fc6dc0380a3acc5ded573d">player_pos</a></div><div class="ttdeci">int32_t player_pos[CARDS777_MAXPLAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00057">bet.c:57</a></div></div>
<div class="ttc" id="abet_8c_html_a74b18b66a6dc8a9ff681cb788be38eaf"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a74b18b66a6dc8a9ff681cb788be38eaf">bet_pick_dealer</a></div><div class="ttdeci">static char * bet_pick_dealer()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00395">bet.c:395</a></div></div>
<div class="ttc" id="abet_8c_html_a834a66cb0b993e25ec7b32d676b03d06"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a834a66cb0b993e25ec7b32d676b03d06">playing_nodes_init</a></div><div class="ttdeci">static void playing_nodes_init()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00365">bet.c:365</a></div></div>
<div class="ttc" id="abet_8c_html_a8d60448109ceb768b85e3e46a56b523d"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a8d60448109ceb768b85e3e46a56b523d">sg777_deckgen_vendor</a></div><div class="ttdeci">int32_t sg777_deckgen_vendor(int32_t playerid, bits256 *cardprods, bits256 *finalcards, int32_t numcards, bits256 *playercards, bits256 deckid)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00524">bet.c:524</a></div></div>
<div class="ttc" id="abet_8c_html_a8f7a8ea0a95583fd121707aa63ffbcc1"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a8f7a8ea0a95583fd121707aa63ffbcc1">bet_set_unique_id</a></div><div class="ttdeci">static void bet_set_unique_id()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00348">bet.c:348</a></div></div>
<div class="ttc" id="abet_8c_html_a9af9f2fdf27f0f54f624d89b32af82ff"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a9af9f2fdf27f0f54f624d89b32af82ff">g_shares</a></div><div class="ttdeci">struct enc_share * g_shares</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00049">bet.c:49</a></div></div>
<div class="ttc" id="abet_8c_html_a9e00dda0694bf1b259177111d1fae6fe"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a9e00dda0694bf1b259177111d1fae6fe">player_seats_info</a></div><div class="ttdeci">struct seat_info player_seats_info[CARDS777_MAXPLAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00053">bet.c:55</a></div></div>
<div class="ttc" id="abet_8c_html_a9e4edbcf57620d008703d803b40c271e"><div class="ttname"><a href="../../dd/d53/bet_8c.html#a9e4edbcf57620d008703d803b40c271e">bet_display_usage</a></div><div class="ttdeci">static void bet_display_usage()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00340">bet.c:340</a></div></div>
<div class="ttc" id="abet_8c_html_aa860977a7c9179f036b66390138b971b"><div class="ttname"><a href="../../dd/d53/bet_8c.html#aa860977a7c9179f036b66390138b971b">bet_dcv_initialize</a></div><div class="ttdeci">static void bet_dcv_initialize(char *dcv_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00218">bet.c:218</a></div></div>
<div class="ttc" id="abet_8c_html_abe20de78a27f415da1e9437e26fd2061"><div class="ttname"><a href="../../dd/d53/bet_8c.html#abe20de78a27f415da1e9437e26fd2061">player_vars</a></div><div class="ttdeci">struct privatebet_vars * player_vars</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00041">bet.c:41</a></div></div>
<div class="ttc" id="abet_8c_html_ac2a6862edb31366c4d1a6da680f85241"><div class="ttname"><a href="../../dd/d53/bet_8c.html#ac2a6862edb31366c4d1a6da680f85241">bet_player_thrd</a></div><div class="ttdeci">static void bet_player_thrd(char *dcv_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00123">bet.c:123</a></div></div>
<div class="ttc" id="abet_8c_html_acab83b0ae8f9771b03b3a9a1d51eeffe"><div class="ttname"><a href="../../dd/d53/bet_8c.html#acab83b0ae8f9771b03b3a9a1d51eeffe">deckid</a></div><div class="ttdeci">bits256 deckid</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00044">bet.c:44</a></div></div>
<div class="ttc" id="abet_8c_html_acce96a8256760a7d9ee28b0d0b722e29"><div class="ttname"><a href="../../dd/d53/bet_8c.html#acce96a8256760a7d9ee28b0d0b722e29">bet_player</a></div><div class="ttdeci">struct privatebet_info * bet_player</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00040">bet.c:40</a></div></div>
<div class="ttc" id="abet_8c_html_ad0579cac3407f0f0cb742891f36d6e56"><div class="ttname"><a href="../../dd/d53/bet_8c.html#ad0579cac3407f0f0cb742891f36d6e56">sharenrs</a></div><div class="ttdeci">uint8_t sharenrs[256]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00043">bet.c:43</a></div></div>
<div class="ttc" id="abet_8c_html_ad1c0d680cfa5542409a5a81e83866c27"><div class="ttname"><a href="../../dd/d53/bet_8c.html#ad1c0d680cfa5542409a5a81e83866c27">bet_cashier_client_initialize</a></div><div class="ttdeci">static void bet_cashier_client_initialize(char *node_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00069">bet.c:69</a></div></div>
<div class="ttc" id="abet_8c_html_ad6878105367d559de0559f330c14331f"><div class="ttname"><a href="../../dd/d53/bet_8c.html#ad6878105367d559de0559f330c14331f">dealer_ip</a></div><div class="ttdeci">char dealer_ip[20]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00051">bet.c:51</a></div></div>
<div class="ttc" id="abet_8c_html_ad6edd7e1c4d864d80357255a938dd8b9"><div class="ttname"><a href="../../dd/d53/bet_8c.html#ad6edd7e1c4d864d80357255a938dd8b9">v_hash</a></div><div class="ttdeci">bits256 v_hash[CARDS777_MAXCARDS][CARDS777_MAXCARDS]</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00047">bet.c:47</a></div></div>
<div class="ttc" id="abet_8c_html_adb7af14559d9153b3b7ab2e7354d7a28"><div class="ttname"><a href="../../dd/d53/bet_8c.html#adb7af14559d9153b3b7ab2e7354d7a28">bet_dcv_deinitialize</a></div><div class="ttdeci">static void bet_dcv_deinitialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00263">bet.c:263</a></div></div>
<div class="ttc" id="abet_8c_html_ae418903f2f00fb0f13c7d21858a4efdd"><div class="ttname"><a href="../../dd/d53/bet_8c.html#ae418903f2f00fb0f13c7d21858a4efdd">deckgen_player</a></div><div class="ttdeci">struct pair256 deckgen_player(bits256 *playerprivs, bits256 *playercards, int32_t *permis, int32_t numcards)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00498">bet.c:504</a></div></div>
<div class="ttc" id="abet_8c_html_aed0d6ecdf0b295306ebdc2ce145bdd01"><div class="ttname"><a href="../../dd/d53/bet_8c.html#aed0d6ecdf0b295306ebdc2ce145bdd01">p2p_bvv_init</a></div><div class="ttdeci">struct pair256 p2p_bvv_init(bits256 *keys, struct pair256 b_key, bits256 *blindings, bits256 *blindedcards, bits256 *finalcards, int32_t numcards, int32_t numplayers, int32_t playerid, bits256 deckid)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00524">bet.c:556</a></div></div>
<div class="ttc" id="abet_8c_html_aeebf318c0558fb16e78578f9090cce82"><div class="ttname"><a href="../../dd/d53/bet_8c.html#aeebf318c0558fb16e78578f9090cce82">bet_bvv_deinitialize</a></div><div class="ttdeci">static void bet_bvv_deinitialize()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00195">bet.c:195</a></div></div>
<div class="ttc" id="abet_8c_html_af1caf4bd39a77add770c8e9a9b859c25"><div class="ttname"><a href="../../dd/d53/bet_8c.html#af1caf4bd39a77add770c8e9a9b859c25">deckgen_common</a></div><div class="ttdeci">struct pair256 deckgen_common(struct pair256 *randcards, int32_t numcards)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00475">bet.c:485</a></div></div>
<div class="ttc" id="abet_8c_html_af311f12b5b16568e399e5e646abf672a"><div class="ttname"><a href="../../dd/d53/bet_8c.html#af311f12b5b16568e399e5e646abf672a">bet_bvv_thrd</a></div><div class="ttdeci">void bet_bvv_thrd(char *dcv_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00203">bet.c:203</a></div></div>
<div class="ttc" id="abet_8c_html_af4e09e4bf901fa7d49b97644bf97e7c1"><div class="ttname"><a href="../../dd/d53/bet_8c.html#af4e09e4bf901fa7d49b97644bf97e7c1">bet_player_initialize</a></div><div class="ttdeci">static void bet_player_initialize(char *dcv_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00092">bet.c:92</a></div></div>
<div class="ttc" id="abet_8c_html_afcdca9e81e58ca60c65b7adb4a84a625"><div class="ttname"><a href="../../dd/d53/bet_8c.html#afcdca9e81e58ca60c65b7adb4a84a625">bet_dcv_thrd</a></div><div class="ttdeci">static void bet_dcv_thrd(char *dcv_ip, const int32_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00271">bet.c:271</a></div></div>
<div class="ttc" id="abet_8c_html_afdeb1585924d8fe716283fb259656031"><div class="ttname"><a href="../../dd/d53/bet_8c.html#afdeb1585924d8fe716283fb259656031">dealer_node_init</a></div><div class="ttdeci">static void dealer_node_init()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d53/bet_8c_source.html#l00371">bet.c:371</a></div></div>
<div class="ttc" id="abet_8h_html"><div class="ttname"><a href="../../df/d5a/bet_8h.html">bet.h</a></div></div>
<div class="ttc" id="abet_8h_html_a4eed07cb5561b32c853dd9ac514ea68b"><div class="ttname"><a href="../../df/d5a/bet_8h.html#a4eed07cb5561b32c853dd9ac514ea68b">fmul_donna</a></div><div class="ttdeci">bits256 fmul_donna(bits256 a, bits256 b)</div></div>
<div class="ttc" id="abet_8h_html_ac1717706afec7e9fd7ce46acc957a381"><div class="ttname"><a href="../../df/d5a/bet_8h.html#ac1717706afec7e9fd7ce46acc957a381">xoverz_donna</a></div><div class="ttdeci">bits256 xoverz_donna(bits256 a)</div></div>
<div class="ttc" id="acards777_8c_html_a046144d8354943e2b9531ec729e7d363"><div class="ttname"><a href="../../d5/d08/cards777_8c.html#a046144d8354943e2b9531ec729e7d363">bet_cipher_create</a></div><div class="ttdeci">int32_t bet_cipher_create(bits256 privkey, bits256 destpub, uint8_t *cipher, uint8_t *data, int32_t datalen)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d08/cards777_8c_source.html#l00062">cards777.c:62</a></div></div>
<div class="ttc" id="acards777_8c_html_a8702768abbdbd84504aed93cde7a5bc8"><div class="ttname"><a href="../../d5/d08/cards777_8c.html#a8702768abbdbd84504aed93cde7a5bc8">bet_permutation</a></div><div class="ttdeci">int32_t bet_permutation(int32_t *permi, int32_t numcards)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d08/cards777_8c_source.html#l00020">cards777.c:20</a></div></div>
<div class="ttc" id="acards777_8h_html"><div class="ttname"><a href="../../d0/db9/cards777_8h.html">cards777.h</a></div></div>
<div class="ttc" id="acashier_8c_html_a04cf97d0c424e2bd6e03b5c5efd4d53a"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#a04cf97d0c424e2bd6e03b5c5efd4d53a">notary_node_ips</a></div><div class="ttdeci">char ** notary_node_ips</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00040">cashier.c:40</a></div></div>
<div class="ttc" id="acashier_8c_html_a23a4c180fe04f644c4a4f584cdb2e853"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#a23a4c180fe04f644c4a4f584cdb2e853">notary_status</a></div><div class="ttdeci">int32_t * notary_status</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00051">cashier.c:51</a></div></div>
<div class="ttc" id="acashier_8c_html_a28b711b1a0ece6b40a95e022e13c7425"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#a28b711b1a0ece6b40a95e022e13c7425">cashier_info</a></div><div class="ttdeci">struct cashier * cashier_info</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00049">cashier.c:49</a></div></div>
<div class="ttc" id="acashier_8c_html_a5fb21f1b1a12ec8700f89bc0a1ff6e6d"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#a5fb21f1b1a12ec8700f89bc0a1ff6e6d">bet_game_multisigaddress</a></div><div class="ttdeci">void bet_game_multisigaddress()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00071">cashier.c:71</a></div></div>
<div class="ttc" id="acashier_8c_html_a70b0d33f182c6c19501f82cd93c7fbee"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#a70b0d33f182c6c19501f82cd93c7fbee">bet_compute_m_of_n_msig_addr</a></div><div class="ttdeci">void bet_compute_m_of_n_msig_addr()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00094">cashier.c:94</a></div></div>
<div class="ttc" id="acashier_8c_html_a93084c3775e53c0c3bd0285d7fbd8993"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#a93084c3775e53c0c3bd0285d7fbd8993">bet_check_cashier_nodes</a></div><div class="ttdeci">void bet_check_cashier_nodes()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00110">cashier.c:110</a></div></div>
<div class="ttc" id="acashier_8c_html_aba0f1ae4fb5d88fe854e03f840fed39c"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#aba0f1ae4fb5d88fe854e03f840fed39c">find_bvv</a></div><div class="ttdeci">void find_bvv()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00985">cashier.c:985</a></div></div>
<div class="ttc" id="acashier_8c_html_abb16999b7087944aff80aa7838eec2ad"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#abb16999b7087944aff80aa7838eec2ad">bet_msg_cashier</a></div><div class="ttdeci">int32_t bet_msg_cashier(cJSON *argjson, char *cashier_ip)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00870">cashier.c:870</a></div></div>
<div class="ttc" id="acashier_8c_html_acc22c45a6d85c8a7999adaa1d5d4fc0e"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#acc22c45a6d85c8a7999adaa1d5d4fc0e">bet_handle_game</a></div><div class="ttdeci">void bet_handle_game(int argc, char **argv)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00955">cashier.c:955</a></div></div>
<div class="ttc" id="acashier_8c_html_ad4c489d7e10c84b3fb4128c32974384b"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#ad4c489d7e10c84b3fb4128c32974384b">no_of_notaries</a></div><div class="ttdeci">int32_t no_of_notaries</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00010">cashier.c:10</a></div></div>
<div class="ttc" id="acashier_8c_html_ad514f45748e5a23f2439928c5c74b513"><div class="ttname"><a href="../../de/d4f/cashier_8c.html#ad514f45748e5a23f2439928c5c74b513">bet_cashier_server_loop</a></div><div class="ttdeci">void bet_cashier_server_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d4f/cashier_8c_source.html#l00734">cashier.c:734</a></div></div>
<div class="ttc" id="acashier_8h_html"><div class="ttname"><a href="../../d5/d3a/cashier_8h.html">cashier.h</a></div></div>
<div class="ttc" id="aclient_8c_html_a197bd07bf82a94eee3dcdb8d0ded9328"><div class="ttname"><a href="../../dd/d93/client_8c.html#a197bd07bf82a94eee3dcdb8d0ded9328">bet_bvv_backend_loop</a></div><div class="ttdeci">void bet_bvv_backend_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00293">client.c:293</a></div></div>
<div class="ttc" id="aclient_8c_html_a392754f34bd754272a4557a1d01e1de5"><div class="ttname"><a href="../../dd/d93/client_8c.html#a392754f34bd754272a4557a1d01e1de5">bet_player_frontend_loop</a></div><div class="ttdeci">void bet_player_frontend_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01461">client.c:1461</a></div></div>
<div class="ttc" id="aclient_8c_html_a54565e106e7652a333b51cb5184bf510"><div class="ttname"><a href="../../dd/d93/client_8c.html#a54565e106e7652a333b51cb5184bf510">bet_player_frontend_write_loop</a></div><div class="ttdeci">void bet_player_frontend_write_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01439">client.c:1439</a></div></div>
<div class="ttc" id="aclient_8c_html_a63453d2ce76fe58775a3c25bef598f6a"><div class="ttname"><a href="../../dd/d93/client_8c.html#a63453d2ce76fe58775a3c25bef598f6a">bet_player_backend_loop</a></div><div class="ttdeci">void bet_player_backend_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01840">client.c:1840</a></div></div>
<div class="ttc" id="aclient_8c_html_a970c263064aa5ae0af28ee68ca0e88e7"><div class="ttname"><a href="../../dd/d93/client_8c.html#a970c263064aa5ae0af28ee68ca0e88e7">bet_bvv</a></div><div class="ttdeci">struct privatebet_info * bet_bvv</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00076">client.c:76</a></div></div>
<div class="ttc" id="aclient_8c_html_a9dfb6a1d4d0a7e2264e6fb2e57387264"><div class="ttname"><a href="../../dd/d93/client_8c.html#a9dfb6a1d4d0a7e2264e6fb2e57387264">bet_get_available_dealers</a></div><div class="ttdeci">cJSON * bet_get_available_dealers()</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01998">client.c:1998</a></div></div>
<div class="ttc" id="aclient_8c_html_ac49dcdcdce0afba5b6d3966d1ee9aa2a"><div class="ttname"><a href="../../dd/d93/client_8c.html#ac49dcdcdce0afba5b6d3966d1ee9aa2a">bvv_vars</a></div><div class="ttdeci">struct privatebet_vars * bvv_vars</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l00077">client.c:77</a></div></div>
<div class="ttc" id="aclient_8c_html_af3373cbc8ac81274887072369a44e353"><div class="ttname"><a href="../../dd/d93/client_8c.html#af3373cbc8ac81274887072369a44e353">bet_player_frontend_read_loop</a></div><div class="ttdeci">void bet_player_frontend_read_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d93/client_8c_source.html#l01418">client.c:1418</a></div></div>
<div class="ttc" id="aclient_8h_html"><div class="ttname"><a href="../../d8/de1/client_8h.html">client.h</a></div></div>
<div class="ttc" id="acommands_8c_html_aa2f5924aa180ba7f7340d699a6f77027"><div class="ttname"><a href="../../de/d21/commands_8c.html#aa2f5924aa180ba7f7340d699a6f77027">chips_transfer_funds</a></div><div class="ttdeci">cJSON * chips_transfer_funds(double amount, char *address)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d21/commands_8c_source.html#l00369">commands.c:369</a></div></div>
<div class="ttc" id="acommands_8c_html_ae99e72443901b9ca4fb41a8344506a4b"><div class="ttname"><a href="../../de/d21/commands_8c.html#ae99e72443901b9ca4fb41a8344506a4b">bet_git_version</a></div><div class="ttdeci">char * bet_git_version()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d21/commands_8c_source.html#l01830">commands.c:1830</a></div></div>
<div class="ttc" id="acommands_8c_html_af32277231a4357cbc4743ce3f8361fc9"><div class="ttname"><a href="../../de/d21/commands_8c.html#af32277231a4357cbc4743ce3f8361fc9">check_ln_chips_sync</a></div><div class="ttdeci">void check_ln_chips_sync()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d21/commands_8c_source.html#l00582">commands.c:582</a></div></div>
<div class="ttc" id="acommands_8h_html"><div class="ttname"><a href="../../d5/d90/commands_8h.html">commands.h</a></div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="../../dc/d54/common_8h.html">common.h</a></div></div>
<div class="ttc" id="acommon_8h_html_a625c5123ed07e8da23de476daee01997"><div class="ttname"><a href="../../dc/d54/common_8h.html#a625c5123ed07e8da23de476daee01997">CARDS777_CHIPSIZE</a></div><div class="ttdeci">#define CARDS777_CHIPSIZE</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d54/common_8h_source.html#l00036">common.h:36</a></div></div>
<div class="ttc" id="acommon_8h_html_a62b702b575af739ee2c999554ea33c5a"><div class="ttname"><a href="../../dc/d54/common_8h.html#a62b702b575af739ee2c999554ea33c5a">bet_dcv</a></div><div class="ttdeci">struct privatebet_info * bet_dcv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/host_8c_source.html#l00068">host.c:68</a></div></div>
<div class="ttc" id="acommon_8h_html_a90f0ea2d767ac1915e44acb24a1fe1bd"><div class="ttname"><a href="../../dc/d54/common_8h.html#a90f0ea2d767ac1915e44acb24a1fe1bd">CARDS777_MAXCARDS</a></div><div class="ttdeci">#define CARDS777_MAXCARDS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d54/common_8h_source.html#l00032">common.h:32</a></div></div>
<div class="ttc" id="acommon_8h_html_a97d6188fd175f4ea7268e9445107a7c0"><div class="ttname"><a href="../../dc/d54/common_8h.html#a97d6188fd175f4ea7268e9445107a7c0">CARDS777_MAXPLAYERS</a></div><div class="ttdeci">#define CARDS777_MAXPLAYERS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d54/common_8h_source.html#l00033">common.h:33</a></div></div>
<div class="ttc" id="acommon_8h_html_aa7cb3dc82286cdcfc50250b3ec3ae769"><div class="ttname"><a href="../../dc/d54/common_8h.html#aa7cb3dc82286cdcfc50250b3ec3ae769">CARDS777_MAXROUNDS</a></div><div class="ttdeci">#define CARDS777_MAXROUNDS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d54/common_8h_source.html#l00034">common.h:34</a></div></div>
<div class="ttc" id="acommon_8h_html_ab98cf25f28f49f78a9431fcc11bda58e"><div class="ttname"><a href="../../dc/d54/common_8h.html#ab98cf25f28f49f78a9431fcc11bda58e">dcv_vars</a></div><div class="ttdeci">struct privatebet_vars * dcv_vars</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/host_8c_source.html#l00069">host.c:69</a></div></div>
<div class="ttc" id="acommon_8h_html_ac883e19e289bb9e33d071c975d985155"><div class="ttname"><a href="../../dc/d54/common_8h.html#ac883e19e289bb9e33d071c975d985155">CARDS777_MAXCHIPS</a></div><div class="ttdeci">#define CARDS777_MAXCHIPS</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d54/common_8h_source.html#l00035">common.h:35</a></div></div>
<div class="ttc" id="aconfig_8c_html_a64bcace7ad2730706843b1438fdc7148"><div class="ttname"><a href="../../d3/d95/config_8c.html#a64bcace7ad2730706843b1438fdc7148">bet_parse_dealer_config_file</a></div><div class="ttdeci">void bet_parse_dealer_config_file()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d95/config_8c_source.html#l00048">config.c:48</a></div></div>
<div class="ttc" id="aconfig_8c_html_ac603523926a60770d32749111343ddb4"><div class="ttname"><a href="../../d3/d95/config_8c.html#ac603523926a60770d32749111343ddb4">bet_parse_cashier_nodes_file</a></div><div class="ttdeci">void bet_parse_cashier_nodes_file()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d95/config_8c_source.html#l00063">config.c:63</a></div></div>
<div class="ttc" id="aconfig_8h_html"><div class="ttname"><a href="../../db/d16/config_8h.html">config.h</a></div></div>
<div class="ttc" id="agfshare_8c_html_a7137856a8a64316ff96b8e6dae47c5a9"><div class="ttname"><a href="../../d9/d0a/gfshare_8c.html#a7137856a8a64316ff96b8e6dae47c5a9">gfshare_calc_sharenrs</a></div><div class="ttdeci">int32_t gfshare_calc_sharenrs(uint8_t *sharenrs, int32_t N, uint8_t *data, int32_t datasize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/gfshare_8c_source.html#l00224">gfshare.c:224</a></div></div>
<div class="ttc" id="agfshare_8c_html_a8da60e5c8a3ff68bdf483dc027e326c9"><div class="ttname"><a href="../../d9/d0a/gfshare_8c.html#a8da60e5c8a3ff68bdf483dc027e326c9">libgfshare_init</a></div><div class="ttdeci">void libgfshare_init()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/gfshare_8c_source.html#l00046">gfshare.c:46</a></div></div>
<div class="ttc" id="agfshare_8c_html_a9b3942a13178129e7e2188454fdec070"><div class="ttname"><a href="../../d9/d0a/gfshare_8c.html#a9b3942a13178129e7e2188454fdec070">gfshare_calc_shares</a></div><div class="ttdeci">void gfshare_calc_shares(uint8_t *shares, uint8_t *secret, int32_t size, int32_t width, int32_t M, int32_t N, uint8_t *sharenrs, uint8_t *space, int32_t spacesize)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d0a/gfshare_8c_source.html#l00354">gfshare.c:354</a></div></div>
<div class="ttc" id="agfshare_8h_html"><div class="ttname"><a href="../../d4/d71/gfshare_8h.html">gfshare.h</a></div></div>
<div class="ttc" id="aheartbeat_8c_html_a1e1b1897c7cfb23cafb64defd10dc979"><div class="ttname"><a href="../../dd/d45/heartbeat_8c.html#a1e1b1897c7cfb23cafb64defd10dc979">bet_dcv_heartbeat_loop</a></div><div class="ttdeci">void bet_dcv_heartbeat_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d45/heartbeat_8c_source.html#l00089">heartbeat.c:89</a></div></div>
<div class="ttc" id="aheartbeat_8h_html"><div class="ttname"><a href="../../d4/d13/heartbeat_8h.html">heartbeat.h</a></div></div>
<div class="ttc" id="ahost_8c_html_a15aeaa19a95feae0e06c046d0e7dd6f7"><div class="ttname"><a href="../../df/da9/host_8c.html#a15aeaa19a95feae0e06c046d0e7dd6f7">bet_init_player_seats_info</a></div><div class="ttdeci">void bet_init_player_seats_info()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/host_8c_source.html#l01491">host.c:1491</a></div></div>
<div class="ttc" id="ahost_8c_html_a2ac04c6502a7b7e3c50f6aaf6cc4eb41"><div class="ttname"><a href="../../df/da9/host_8c.html#a2ac04c6502a7b7e3c50f6aaf6cc4eb41">bet_dcv_frontend_loop</a></div><div class="ttdeci">void bet_dcv_frontend_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/host_8c_source.html#l01791">host.c:1791</a></div></div>
<div class="ttc" id="ahost_8c_html_a389deacc87a2a7cfd354c250eac9aee9"><div class="ttname"><a href="../../df/da9/host_8c.html#a389deacc87a2a7cfd354c250eac9aee9">bet_set_table_id</a></div><div class="ttdeci">void bet_set_table_id()</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/host_8c_source.html#l00096">host.c:96</a></div></div>
<div class="ttc" id="ahost_8c_html_a4a99b05847806e42fbcfc3b5cedc4380"><div class="ttname"><a href="../../df/da9/host_8c.html#a4a99b05847806e42fbcfc3b5cedc4380">bet_dcv_backend_loop</a></div><div class="ttdeci">void bet_dcv_backend_loop(void *_ptr)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da9/host_8c_source.html#l01736">host.c:1736</a></div></div>
<div class="ttc" id="ahost_8h_html"><div class="ttname"><a href="../../df/ded/host_8h.html">host.h</a></div></div>
<div class="ttc" id="anetwork_8c_html_a45b096386283dc36e3520da83d01ddc6"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a45b096386283dc36e3520da83d01ddc6">bet_msg_dealer_with_response_id</a></div><div class="ttdeci">cJSON * bet_msg_dealer_with_response_id(cJSON *argjson, char *dealer_ip, char *message)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00087">network.c:87</a></div></div>
<div class="ttc" id="anetwork_8c_html_a50664af8ed090a6916f103dfa3d62200"><div class="ttname"><a href="../../d6/d6e/network_8c.html#a50664af8ed090a6916f103dfa3d62200">bet_nanosock</a></div><div class="ttdeci">int32_t bet_nanosock(int32_t bindflag, char *endpoint, int32_t nntype)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00057">network.c:57</a></div></div>
<div class="ttc" id="anetwork_8c_html_af4d4ffa4bef447a5b2807ebbeecae09b"><div class="ttname"><a href="../../d6/d6e/network_8c.html#af4d4ffa4bef447a5b2807ebbeecae09b">bet_tcp_sock_address</a></div><div class="ttdeci">char * bet_tcp_sock_address(int32_t bindflag, char *str, char *ipaddr, uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6e/network_8c_source.html#l00050">network.c:50</a></div></div>
<div class="ttc" id="anetwork_8h_html"><div class="ttname"><a href="../../d9/d94/network_8h.html">network.h</a></div></div>
<div class="ttc" id="astorage_8c_html_a1012b6a856d8771e3ac59cdb823b714b"><div class="ttname"><a href="../../d2/dd2/storage_8c.html#a1012b6a856d8771e3ac59cdb823b714b">bet_sqlite3_init</a></div><div class="ttdeci">void bet_sqlite3_init()</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dd2/storage_8c_source.html#l00170">storage.c:170</a></div></div>
<div class="ttc" id="astorage_8h_html"><div class="ttname"><a href="../../d8/d6b/storage_8h.html">storage.h</a></div></div>
<div class="ttc" id="astructcashier_html"><div class="ttname"><a href="../../da/d77/structcashier.html">cashier</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00162">bet.h:162</a></div></div>
<div class="ttc" id="astructcashier_html_a083158d9583aa41f8b92c8de3502d60d"><div class="ttname"><a href="../../da/d77/structcashier.html#a083158d9583aa41f8b92c8de3502d60d">cashier::c_subsock</a></div><div class="ttdeci">int32_t c_subsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00163">bet.h:163</a></div></div>
<div class="ttc" id="astructcashier_html_a0a43e10afc008c60f57b3e4341061d83"><div class="ttname"><a href="../../da/d77/structcashier.html#a0a43e10afc008c60f57b3e4341061d83">cashier::c_pullsock</a></div><div class="ttdeci">int32_t c_pullsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00163">bet.h:163</a></div></div>
<div class="ttc" id="astructcashier_html_a577492f5cb062491ea96145ab56fcacb"><div class="ttname"><a href="../../da/d77/structcashier.html#a577492f5cb062491ea96145ab56fcacb">cashier::c_pushsock</a></div><div class="ttdeci">int32_t c_pushsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00163">bet.h:163</a></div></div>
<div class="ttc" id="astructcashier_html_aeff03d6f79d5d7908c8f8d77de2265b2"><div class="ttname"><a href="../../da/d77/structcashier.html#aeff03d6f79d5d7908c8f8d77de2265b2">cashier::c_pubsock</a></div><div class="ttdeci">int32_t c_pubsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00163">bet.h:163</a></div></div>
<div class="ttc" id="astructenc__share_html"><div class="ttname"><a href="../../d0/d0d/structenc__share.html">enc_share</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00120">bet.h:120</a></div></div>
<div class="ttc" id="astructenc__share_html_ae6113029fd5982c537b79d4169d1255d"><div class="ttname"><a href="../../d0/d0d/structenc__share.html#ae6113029fd5982c537b79d4169d1255d">enc_share::bytes</a></div><div class="ttdeci">uint8_t bytes[sizeof(bits256)+crypto_box_NONCEBYTES+crypto_box_ZEROBYTES]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00121">bet.h:121</a></div></div>
<div class="ttc" id="astructpair256_html"><div class="ttname"><a href="../../de/df9/structpair256.html">pair256</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00109">bet.h:109</a></div></div>
<div class="ttc" id="astructpair256_html_a08e3b8e0e895b13eebc705b35e6113aa"><div class="ttname"><a href="../../de/df9/structpair256.html#a08e3b8e0e895b13eebc705b35e6113aa">pair256::priv</a></div><div class="ttdeci">bits256 priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00110">bet.h:110</a></div></div>
<div class="ttc" id="astructpair256_html_a3d40c38f9e09a72c32f584c783528c7a"><div class="ttname"><a href="../../de/df9/structpair256.html#a3d40c38f9e09a72c32f584c783528c7a">pair256::prod</a></div><div class="ttdeci">bits256 prod</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00110">bet.h:110</a></div></div>
<div class="ttc" id="astructprivatebet__info_html"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html">privatebet_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00067">bet.h:67</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a195fee78bb1a26504e4920dafea3b195"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a195fee78bb1a26504e4920dafea3b195">privatebet_info::maxchips</a></div><div class="ttdeci">int32_t maxchips</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00071">bet.h:71</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a1f4c834e20b87839446da22179d2e58b"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a1f4c834e20b87839446da22179d2e58b">privatebet_info::chipsize</a></div><div class="ttdeci">int32_t chipsize</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00071">bet.h:71</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a2443f8a982fb92f3cab78d35d54aeb24"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a2443f8a982fb92f3cab78d35d54aeb24">privatebet_info::pubsock</a></div><div class="ttdeci">int32_t pubsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00072">bet.h:72</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a256ab6b96f4e57798f0d439dcfe234e5"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a256ab6b96f4e57798f0d439dcfe234e5">privatebet_info::msg</a></div><div class="ttdeci">cJSON * msg</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00077">bet.h:77</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a2d44b99e9160029507e6e0d04b92dbd4"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a2d44b99e9160029507e6e0d04b92dbd4">privatebet_info::maxplayers</a></div><div class="ttdeci">int32_t maxplayers</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00071">bet.h:71</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a4a3070b8d22e8ce276a72d45db56353e"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a4a3070b8d22e8ce276a72d45db56353e">privatebet_info::turni</a></div><div class="ttdeci">int32_t turni</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00075">bet.h:75</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a5a624f46decb6be461ec1e4edc0cc140"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a5a624f46decb6be461ec1e4edc0cc140">privatebet_info::pullsock</a></div><div class="ttdeci">int32_t pullsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00072">bet.h:72</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_a8a60dda249031fc496a0307c34f3cb69"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#a8a60dda249031fc496a0307c34f3cb69">privatebet_info::numplayers</a></div><div class="ttdeci">int32_t numplayers</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00071">bet.h:71</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_aa04b8bcf4acf5ced8cfeaa006cc69249"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#aa04b8bcf4acf5ced8cfeaa006cc69249">privatebet_info::pushsock</a></div><div class="ttdeci">int32_t pushsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00072">bet.h:72</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_ac1a593b6b04f50e52892def22a3fdd53"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#ac1a593b6b04f50e52892def22a3fdd53">privatebet_info::cardid</a></div><div class="ttdeci">int32_t cardid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00075">bet.h:75</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_ad37d01428dc307e9deaf5768596e94ef"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#ad37d01428dc307e9deaf5768596e94ef">privatebet_info::no_of_turns</a></div><div class="ttdeci">int32_t no_of_turns</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00076">bet.h:76</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_ad502ebd5a1f56f383db682da311e813e"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#ad502ebd5a1f56f383db682da311e813e">privatebet_info::myplayerid</a></div><div class="ttdeci">int32_t myplayerid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00071">bet.h:71</a></div></div>
<div class="ttc" id="astructprivatebet__info_html_adf0111f2d0328b929100e926427b5ced"><div class="ttname"><a href="../../d0/d9f/structprivatebet__info.html#adf0111f2d0328b929100e926427b5ced">privatebet_info::subsock</a></div><div class="ttdeci">int32_t subsock</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00072">bet.h:72</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html">privatebet_vars</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00092">bet.h:92</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_a010311c27ac57ee8379a1c378ccc2dbf"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#a010311c27ac57ee8379a1c378ccc2dbf">privatebet_vars::last_turn</a></div><div class="ttdeci">int32_t last_turn</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00102">bet.h:102</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_a184f9ce3af1e6e3b08aa2e6d9b0cdbf1"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#a184f9ce3af1e6e3b08aa2e6d9b0cdbf1">privatebet_vars::round</a></div><div class="ttdeci">int32_t round</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00097">bet.h:97</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_a1b05ab6687bf00d8f08bfd424531e795"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#a1b05ab6687bf00d8f08bfd424531e795">privatebet_vars::pot</a></div><div class="ttdeci">int32_t pot</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00103">bet.h:103</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_a381939fb9b7f85c0b09f3af728eb5b42"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#a381939fb9b7f85c0b09f3af728eb5b42">privatebet_vars::bet_actions</a></div><div class="ttdeci">int32_t bet_actions[CARDS777_MAXPLAYERS][CARDS777_MAXROUNDS]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00101">bet.h:101</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_a9bda4d6f988f69e54218f62c3bcd1233"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#a9bda4d6f988f69e54218f62c3bcd1233">privatebet_vars::turni</a></div><div class="ttdeci">int32_t turni</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00097">bet.h:97</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_acb9cb80d690397299df31c2495f5ae87"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#acb9cb80d690397299df31c2495f5ae87">privatebet_vars::funds</a></div><div class="ttdeci">int32_t funds[CARDS777_MAXPLAYERS]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00105">bet.h:105</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_ad76c9dddaf0a04d2ebb1e9ee95d3c8af"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#ad76c9dddaf0a04d2ebb1e9ee95d3c8af">privatebet_vars::betamount</a></div><div class="ttdeci">int32_t betamount[CARDS777_MAXPLAYERS][CARDS777_MAXROUNDS]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00100">bet.h:100</a></div></div>
<div class="ttc" id="astructprivatebet__vars_html_afee2532af1662a5b177f02207be87704"><div class="ttname"><a href="../../d7/d03/structprivatebet__vars.html#afee2532af1662a5b177f02207be87704">privatebet_vars::last_raise</a></div><div class="ttdeci">int32_t last_raise</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00102">bet.h:102</a></div></div>
<div class="ttc" id="astructseat__info_html"><div class="ttname"><a href="../../d9/dc2/structseat__info.html">seat_info</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5a/bet_8h_source.html#l00168">bet.h:168</a></div></div>
<div class="ttc" id="atable_8c_html_abd3fa7b74815028b49eecac87d9efe33"><div class="ttname"><a href="../../dc/d33/table_8c.html#abd3fa7b74815028b49eecac87d9efe33">bet_info_set</a></div><div class="ttdeci">void bet_info_set(struct privatebet_info *bet, char *game, int32_t range, int32_t numrounds, int32_t maxplayers)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d33/table_8c_source.html#l00020">table.c:20</a></div></div>
<div class="ttc" id="atable_8h_html"><div class="ttname"><a href="../../dd/d98/table_8h.html">table.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_6533845711e9597c85a5594888097196.html">privatebet</a></li><li class="navelem"><a class="el" href="../../dd/d53/bet_8c.html">bet.c</a></li>
    <li class="footer">Generated on Thu Jul 22 2021 18:33:23 for Bet by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
